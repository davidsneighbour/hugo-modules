{{- /*

@example

{{- partial "icon.html" (dict "type" "bs" "icon" "cash") -}}
{{- partialCached "icon.html" (dict "type" "bs" "icon" "cash") "cash" -}}
{{< icon type="bs" icon="cash" >}}

*/ -}}

{{- /*

TODO:
- check for setup defaults
- documentation

*/ -}}

{{/* @todo remove deprecation note on March 24th 2024 */}}
{{- with site.Data.dnb.icons.config -}}
  {{- partial "debug.html" (dict
        "message" "[dnb-icons] data configuration is deprecated. Move your config to site.Params.dnb.icons"
        "context" .
        "severity" "warn"
        "level" 8
  ) -}}
{{- end -}}

{{/* @todo better configuration check */}}
{{- $config := site.Params.dnb.icons -}}
{{- $type := $config.default -}}
{{- $slug := "bs" -}}
{{- $path := "icons/bootstrap-icons/%s.svg" -}}
{{- if eq .Type "hi" -}}
  {{- $type = "hi" -}}
  {{- $slug = "heroicon" -}}
  {{- $path = "icons/heroicons/solid/%s.svg" -}}
{{- end -}}
{{- $iconname := .icon -}}

{{- $icon := (printf $path $iconname) -}}
{{- with resources.Get $icon -}}
<span class="{{ $slug }} {{ $slug }}--{{- $iconname }} w-max h-max">
  {{- .Content | safeHTML -}}
</span>
{{- end -}}
