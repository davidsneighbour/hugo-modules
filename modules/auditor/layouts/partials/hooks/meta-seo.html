{{- if hugo.IsServer -}}
  {{- $page := page -}}
  {{- $config := site.Params.dnb.auditor -}}
  <div class="d-flex flex-row gap-2">
    <div class="icon">
      {{- partials.Include "icon.html" "shield-check" -}}
    </div>

    {{/* title length evaluation */}}
    {{- $titleLength := len $page.Title -}}
    {{- $titleClass := "danger" -}}
    {{- $titleMinLength := $config.titleminlength -}}
    {{- $titleMaxLength := $config.titlemaxlength -}}
    {{- $titleThreshold := $config.titlethreshold -}}

    {{- if gt $titleLength $titleMaxLength -}}
      {{- if gt $titleLength (math.Add $titleMaxLength $titleThreshold) -}}
        {{- $titleClass = "danger" -}}
      {{- else -}}
        {{- $titleClass = "warning" -}}
      {{- end -}}
    {{- else if lt $titleLength $titleMinLength}}
      {{- if lt $titleLength (math.Sub $titleMinLength $titleThreshold) -}}
        {{- $titleClass = "danger" -}}
      {{- else -}}
        {{- $titleClass = "warning" -}}
      {{- end -}}
    {{- else -}}
      {{- $titleClass = "success" -}}
    {{- end -}}

    {{/* description length evaluation */}}
    {{- $descriptionLength := len $page.Description -}}
    {{- $descriptionClass := "danger" -}}
    {{- $descriptionMinLength := $config.descriptionminlength -}}
    {{- $descriptionMaxLength := $config.descriptionmaxlength -}}
    {{- $descriptionThreshold := $config.descriptionthreshold -}}

    {{- if gt $descriptionLength $descriptionMaxLength -}}
      {{- if gt $descriptionLength (math.Add $descriptionMaxLength $descriptionThreshold) -}}
        {{- $descriptionClass = "danger" -}}
      {{- else -}}
        {{- $descriptionClass = "warning" -}}
      {{- end -}}
    {{- else if lt $descriptionLength $descriptionMinLength}}
      {{- if lt $descriptionLength (math.Sub $descriptionMinLength $descriptionThreshold) -}}
        {{- $descriptionClass = "danger" -}}
      {{- else -}}
        {{- $descriptionClass = "warning" -}}
      {{- end -}}
    {{- else -}}
      {{- $descriptionClass = "success" -}}
    {{- end -}}

    <div class="d-flex flex-row gap-2">
      <span>
        {{ lang.Translate "theme.title" }}:
        <span class="text-{{- $titleClass -}}">{{- $titleLength }} {{ lang.Translate "theme.characters" }}</span>
      </span>
      <span> / </span>
      <span>
        {{ lang.Translate "theme.description" }}:
        <span class="text-{{ $descriptionClass }}"
          >{{ $descriptionLength }} {{ lang.Translate "theme.characters" }}
        </span>
      </span>
      <span> / </span>
      <span>
        {{- $postType := "too short" -}}
        {{ if compare.Ge $page.WordCount 300 }}
          {{- $postType = "regular" -}}
        {{ else if compare.Ge $page.WordCount 900 }}
          {{- $postType = "cornerstone" -}}
        {{ end  }}
        {{- $string := fmt.Printf (lang.Translate "theme.words") $page.WordCount -}}
        {{- $string }} ({{- $postType -}})
      </span>
    </div>
  </div>
{{- end -}}
